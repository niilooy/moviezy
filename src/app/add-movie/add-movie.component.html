<form
  action=""
  (ngSubmit)="onSubmit()"
  #movieForm="ngForm"
  data-bs-theme="dark"
>
  <div class="container">
    <h1>Add Movie</h1>
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">Name</span>
      <input
        type="text"
        class="form-control"
        placeholder="Movie Name"
        aria-label="title"
        aria-describedby="basic-addon1"
        name="title"
        [(ngModel)]="movie.title"
        #title="ngModel"
        required
      />
    </div>
    <div
      *ngIf="title.invalid && (title.dirty || title.touched)"
      class="alert alert-danger"
    >
      Movie Name is required
    </div>

    <div class="input-group mb-3">
      <span class="input-group-text">Description</span>
      <textarea
        class="form-control"
        aria-label="Description"
        rows="3"
        placeholder="Add a description for the movie"
        name="description"
        [(ngModel)]="movie.description"
      ></textarea>
    </div>

    <div class="row">
      <div class="col-md-4">
        <div class="input-group mb-3">
          <label class="input-group-text" for="genre">Genre</label>
          <select
            class="form-select"
            id="genre"
            name="genre"
            [(ngModel)]="movie.genre"
            #genre="ngModel"
            required
          >
            <option value="">Select Genre</option>
            <option value="thriller">Thriller</option>
            <option value="action">Action</option>
            <option value="drama">Drama</option>
            <option value="comedy">Comedy</option>
            <option value="scifi">Sci-Fi</option>
            <option value="horror">Horror</option>
            <option value="fantasy">Fantasy</option>
          </select>
        </div>
        <div
          *ngIf="genre.invalid && (genre.dirty || genre.touched)"
          class="alert alert-danger"
        >
          Please select a Genre
        </div>
      </div>

      <div class="col-md-4">
        <div class="input-group mb-3">
          <label class="input-group-text" for="language">Language</label>
          <select
            class="form-select"
            id="language"
            name="language"
            [(ngModel)]="movie.language"
            #language="ngModel"
            required
          >
            <option value="">Select Language</option>
            <option value="english">English</option>
            <option value="hindi">Hindi</option>
            <option value="bengali">Bengali</option>
            <option value="tamil">Tamil</option>
            <option value="telugu">Telugu</option>
            <option value="japanese">Japanese</option>
          </select>
        </div>
        <div
          *ngIf="language.invalid && (language.dirty || language.touched)"
          class="alert alert-danger"
        >
          Please select a Language
        </div>
      </div>

      <div class="col-md-4">
        <label for="rating" class="form-label">
          Rating: {{ getStars(movie.rating) }}
        </label>
        <input
          type="range"
          class="form-range"
          min="0"
          max="10"
          set="0"
          step="1"
          id="rating"
          name="rating"
          [(ngModel)]="movie.rating"
          #rating="ngModel"
          required
        />
        <div
          *ngIf="rating.invalid && (rating.dirty || rating.touched)"
          class="alert alert-danger"
        >
          Please add a Rating
        </div>
      </div>
    </div>

    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">Image Url</span>
      <input
        type="url"
        class="form-control"
        placeholder=""
        aria-label="imageUrl"
        aria-describedby="basic-addon1"
        name="imageUrl"
        [(ngModel)]="movie.imageUrl"
      />
    </div>

    <button
      type="submit"
      class="btn btn-outline-light"
      [disabled]="movieForm.invalid"
    >
      Add to Watchlist
    </button>
  </div>
</form>
